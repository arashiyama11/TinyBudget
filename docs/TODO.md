# TODOリスト

## 概要

このドキュメントは、今後の開発タスクを管理するためのものです。
仕様書 (`docs/SPEC.md`) と現在の実装状況を基に作成されています。

## 未実装機能

### 1. 支出の記録 (優先)

- [x] **保存時の視覚効果**
    - [x] 保存ボタンを押してもオーバーレイは閉じないので視覚効果が必要
- [x] **オーバーレイ設定の保存**
    - [x] オーバーレイの位置やサイズを保存する
    - [x] 最後に選んだカテゴリも保存してもいいかも

### 2. 支出の修正・削除

- [x] **メイン画面でも記録を可能にする**
    - [x] Main画面からオーバーレイを起動できるようにする
- [x] **編集画面の作成**
    - [x] 履歴タップで画面遷移 (SPEC 2.2)
    - [x] 金額、カテゴリ、メモの編集機能
    - [x] 更新処理を `TransactionRepository` に実装
- [x] **削除機能の実装**
    - [x] 長押しまたはスワイプで削除確認ダイアログを表示 (SPEC 2.2)
    - [x] 削除処理を `TransactionRepository` に実装
- [x] 今月以外のSummaryの表示
    - [x] 現在は今月のみの表示なので、過去の月も表示できるようにする
    - [x] MonthlySummaryCardを左右にスワイプして月を切り替えられるようにする

### 3. カテゴリ管理 (優先)

- [x] **カテゴリ管理画面の作成**
- [x] **カテゴリの追加・編集・削除機能** (SPEC 2.3)
    - [x] UIから `CategoryRepository` を経由してDBを操作
- [x] **カテゴリのON/OFF機能** (SPEC 2.3)
    - [x] `Category` エンティティに `isEnabled` のようなフラグを追加
    - [x] オーバーレイのカテゴリ選択肢に反映

### 4. 設定画面 (中優先)

- [x] **設定画面のUI作成**
- [x] **トリガーアプリ設定機能** (SPEC 2.3)
    - [x] インストール済みアプリ一覧の取得
    - [x] ユーザーが選択したアプリを保存する (DataStore)
- [x] **権限設定への誘導** (SPEC 2.3)
    - [x] 必要な権限が許可されているかチェック
    - [x] 未許可の場合、設定画面へ誘導するUIを表示

## コード改善タスク

### 1. UI/UX改善 (中優先)

- [ ] **支出履歴画面**
    - [ ] トランザクションが0件の場合の表示 (Empty State)
    - [ ] データロード中のインジケーター表示 (Loading State)
- [ ] **エラーハンドリング**
    - [ ] DBアクセス失敗時のエラー表示

### 3. テスト (低優先)

- [ ] `MainPresenter` のユニットテスト
- [ ] 各Repositoryのユニットテスト (現状 `TransactionRepositoryTest` のみ)
- [ ] UIテスト (Compose)
